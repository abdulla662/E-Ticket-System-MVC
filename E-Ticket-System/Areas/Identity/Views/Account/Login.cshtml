@model E_Ticket_System.Models.ViewModel.LoginVM
@{
    ViewData["Title"] = "Login";
}

<h2 class="p-3 text-center fw-bold" style="font-size: 2rem; position: relative; z-index: 1002;">Login To An Account</h2>


<!-- خلفية متحركة -->
<div id="particles-js"></div>

<hr />
<div class="row justify-content-center">
    <div class="col-md-4">
        <form asp-action="Login" method="post" id="login-form">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="form-group">
                <label asp-for="email" class="control-label"></label>
                <input asp-for="email" class="form-control" required />
                <span asp-validation-for="email" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="password" class="control-label"></label>
                <input asp-for="password" type="password" class="form-control" required />
                <span asp-validation-for="password" class="text-danger"></span>
            </div>

            <div class="form-group form-check">
                <label class="form-check-label">
                    <input class="form-check-input" asp-for="rememberme" /> @Html.DisplayNameFor(model => model.rememberme)
                </label>
            </div>

            <div class="form-group">
                <input type="submit" value="Login" class="btn btn-primary w-100 mt-2" />
            </div>
        </form>
    </div>
</div>

<!-- رابط التسجيل -->
<div class="text-center mt-4">
    <a asp-action="Register" asp-controller="Account" class="btn btn-light w-30 btn-lg text-dark">Register</a>
</div>

<!-- تحميل مكتبة الخلفية المتحركة -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        particlesJS.load('particles-js', '/js/particles-config.json', function () {
            console.log("Particles.js loaded.");
        });

        // تأكيد أن النموذج والأزرار قابلة للنقر
        document.querySelectorAll('button, input[type="submit"]').forEach(btn => {
            btn.addEventListener('click', () => {
                console.log("زر الضغط يعمل");
            });
        });

        // تأكيد أن النموذج يتم إرساله
        document.querySelector('#login-form').addEventListener('submit', function (e) {
            console.log("النموذج يتم إرساله");
        });
    });
</script>
